sudo: true
dist: xenial
language: cpp

services:
    - docker

before_install:
    - git clone https://github.com/$TRAVIS_REPO_SLUG.git $TRAVIS_REPO_SLUG
    - cd $TRAVIS_REPO_SLUG
    - git checkout ${TRAVIS_PULL_REQUEST_BRANCH:-${TRAVIS_BRANCH}}

jobs:
  include:
    - stage: build docker image
      script: ci/build-docker-image.sh
